# 关于数据上报的思考

这是某次周会的一个议题。大家讨论很热烈，但我的观点有所不同。记录一下。

<!--more-->

首先，个人观点如下：

+ 崩溃(crash)和异常(exception)数据上报非常有意义
+ 接口耗时数据上报有意义
+ 卡顿和内存数据上报，几乎无意义

再来稍微展开一下原因。

+ 崩溃和异常上报之所以有意义，核心价值在于这些数据有助于修复问题。另外，
    + 真实设备复杂性超出现开发人员手头现有测试设备，必须借助真实用户收集数据
    + 每台设备上报的数据是 **无差别** 的。(无差别的意思是，崩溃就是崩溃，无论在哪台设备崩溃几乎都是不可接受的)
+ 接口耗时上报之所以有意义，核心价值在于有助于了解接口性能和稳定性
    + 接口耗时跟 **接口性能** 以及 **网络状态** 相关，跟硬件本身几乎无关
    + 正常网络状态下，客户看到的接口请求失败率跟接口稳定性相关
    + 成功的接口调用应当以 **耗时** 作为指标(关注性能)，失败的接口调用应当以 **失败率** 作为指标(关注稳定性)
+ 卡顿和内存上报，几乎无意义。原因如下，
    + 这些数据跟硬件强相关，每台设备上报的数据是 **有差别** 的
    + 数据量太小时取均值可能没有任何参考意义
    + 假设有十个页面，其中P页面性能最差。P页面在A设备上有卡顿和内存问题，那么B设备上即使看不到卡顿和内存问题，但实际上它的性能很可能仍然是最差的。开发人员手头现有的测试设备足够找出这些性能瓶颈